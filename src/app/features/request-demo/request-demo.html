<div class="demo-page">
  <!-- Navigation -->
  <nav class="demo-nav">
    <div class="nav-container">
      <a routerLink="/" class="logo">
        <img src="/assets/images/icon.png" alt="MiniMinds Logo" class="logo-img">
        <span class="logo-text">MiniMinds</span>
      </a>
      <a routerLink="/" class="back-link">
        <i class="bi bi-arrow-left"></i>
        Back to Home
      </a>
    </div>
  </nav>

  <div class="demo-container">
    <!-- Left Side - Info -->
    <div class="demo-info">
      <div class="info-content">
        <h1>See MiniMinds in Action</h1>
        <p class="info-subtitle">
          Schedule a personalized demo with our team and discover how MiniMinds can transform your daycare operations.
        </p>

        <div class="benefits-list">
          <div class="benefit-item">
            <div class="benefit-icon">
              <i class="bi bi-clock"></i>
            </div>
            <div class="benefit-text">
              <h3>15-Minute Demo</h3>
              <p>Quick walkthrough of all features tailored to your needs</p>
            </div>
          </div>

          <div class="benefit-item">
            <div class="benefit-icon">
              <i class="bi bi-person-check"></i>
            </div>
            <div class="benefit-text">
              <h3>Personalized Experience</h3>
              <p>See how MiniMinds works for your specific daycare setup</p>
            </div>
          </div>

          <div class="benefit-item">
            <div class="benefit-icon">
              <i class="bi bi-question-circle"></i>
            </div>
            <div class="benefit-text">
              <h3>Q&A Session</h3>
              <p>Get all your questions answered by our product experts</p>
            </div>
          </div>

          <div class="benefit-item">
            <div class="benefit-icon">
              <i class="bi bi-gift"></i>
            </div>
            <div class="benefit-text">
              <h3>Free Trial Access</h3>
              <p>Start your 14-day free trial after the demo</p>
            </div>
          </div>
        </div>

        <div class="trust-badges">
          <div class="trust-item">
            <span class="trust-number">100+</span>
            <span class="trust-label">Daycares Trust Us</span>
          </div>
          <div class="trust-divider"></div>
          <div class="trust-item">
            <span class="trust-number">5,000+</span>
            <span class="trust-label">Children Enrolled</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Side - Form -->
    <div class="demo-form-container">
      <!-- Success State -->
      <div *ngIf="isSubmitted" class="success-state">
        <div class="success-icon">
          <i class="bi bi-check-circle-fill"></i>
        </div>
        <h2>Thank You!</h2>
        <p>Your demo request has been submitted successfully. Our team will contact you within 24 hours to schedule your personalized demo.</p>
        <a routerLink="/" class="btn-back-home">
          Back to Home
          <i class="bi bi-arrow-right"></i>
        </a>
      </div>

      <!-- Form -->
      <div *ngIf="!isSubmitted" class="form-wrapper">
        <!-- Progress Indicator -->
        <div class="progress-section">
          <div class="step-indicators">
            <div
              *ngFor="let step of [1, 2, 3]"
              class="step-indicator"
              [class.active]="currentStep === step"
              [class.completed]="currentStep > step"
              (click)="goToStep(step)">
              <div class="step-circle">
                <span *ngIf="currentStep <= step">{{ step }}</span>
                <i *ngIf="currentStep > step" class="bi bi-check"></i>
              </div>
              <span class="step-label">
                {{ step === 1 ? 'Contact' : step === 2 ? 'Center' : 'Details' }}
              </span>
            </div>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="stepProgress"></div>
          </div>
        </div>

        <form [formGroup]="demoForm" (ngSubmit)="submitForm()">
          <!-- Step 1: Contact Information -->
          <div class="form-step" *ngIf="currentStep === 1">
            <div class="step-header">
              <h2>Contact Information</h2>
              <p>Let us know how to reach you</p>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="firstName">First Name *</label>
                <input
                  type="text"
                  id="firstName"
                  formControlName="firstName"
                  placeholder="John"
                  [class.error]="demoForm.get('firstName')?.invalid && demoForm.get('firstName')?.touched">
                <span class="error-message" *ngIf="getFieldError('firstName')">
                  {{ getFieldError('firstName') }}
                </span>
              </div>
              <div class="form-group">
                <label for="lastName">Last Name *</label>
                <input
                  type="text"
                  id="lastName"
                  formControlName="lastName"
                  placeholder="Doe"
                  [class.error]="demoForm.get('lastName')?.invalid && demoForm.get('lastName')?.touched">
                <span class="error-message" *ngIf="getFieldError('lastName')">
                  {{ getFieldError('lastName') }}
                </span>
              </div>
            </div>

            <div class="form-group">
              <label for="email">Email Address *</label>
              <input
                type="email"
                id="email"
                formControlName="email"
                placeholder="john.doe@example.com"
                [class.error]="demoForm.get('email')?.invalid && demoForm.get('email')?.touched">
              <span class="error-message" *ngIf="getFieldError('email')">
                {{ getFieldError('email') }}
              </span>
            </div>

            <div class="form-group">
              <label for="phone">Phone Number *</label>
              <input
                type="tel"
                id="phone"
                formControlName="phone"
                placeholder="+1 (555) 123-4567"
                [class.error]="demoForm.get('phone')?.invalid && demoForm.get('phone')?.touched">
              <span class="error-message" *ngIf="getFieldError('phone')">
                {{ getFieldError('phone') }}
              </span>
            </div>
          </div>

          <!-- Step 2: Center Details -->
          <div class="form-step" *ngIf="currentStep === 2">
            <div class="step-header">
              <h2>Center Details</h2>
              <p>Tell us about your daycare center</p>
            </div>

            <div class="form-group">
              <label for="centerName">Center Name *</label>
              <input
                type="text"
                id="centerName"
                formControlName="centerName"
                placeholder="Happy Kids Daycare"
                [class.error]="demoForm.get('centerName')?.invalid && demoForm.get('centerName')?.touched">
              <span class="error-message" *ngIf="getFieldError('centerName')">
                {{ getFieldError('centerName') }}
              </span>
            </div>

            <div class="form-group">
              <label for="jobTitle">Your Role *</label>
              <select
                id="jobTitle"
                formControlName="jobTitle"
                [class.error]="demoForm.get('jobTitle')?.invalid && demoForm.get('jobTitle')?.touched">
                <option value="">Select your role</option>
                <option value="Owner">Owner</option>
                <option value="Director">Director</option>
                <option value="Administrator">Administrator</option>
                <option value="Manager">Manager</option>
                <option value="Teacher">Teacher</option>
                <option value="Other">Other</option>
              </select>
              <span class="error-message" *ngIf="getFieldError('jobTitle')">
                {{ getFieldError('jobTitle') }}
              </span>
            </div>

            <div class="form-group">
              <label for="country">Country *</label>
              <select
                id="country"
                formControlName="country"
                [class.error]="demoForm.get('country')?.invalid && demoForm.get('country')?.touched">
                <option value="">Select your country</option>
                <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
              </select>
              <span class="error-message" *ngIf="getFieldError('country')">
                {{ getFieldError('country') }}
              </span>
            </div>

            <div class="form-group">
              <label>Number of Children Enrolled *</label>
              <div class="radio-group">
                <label
                  *ngFor="let range of childrenRanges"
                  class="radio-option"
                  [class.selected]="demoForm.get('numberOfChildren')?.value === range">
                  <input
                    type="radio"
                    formControlName="numberOfChildren"
                    [value]="range">
                  <span class="radio-label">{{ range }}</span>
                </label>
              </div>
              <span class="error-message" *ngIf="demoForm.get('numberOfChildren')?.touched && demoForm.get('numberOfChildren')?.invalid">
                Please select the number of children
              </span>
            </div>
          </div>

          <!-- Step 3: Additional Information -->
          <div class="form-step" *ngIf="currentStep === 3">
            <div class="step-header">
              <h2>Almost Done!</h2>
              <p>Just a few more details</p>
            </div>

            <div class="form-group">
              <label for="hearAboutUs">How did you hear about us? *</label>
              <select
                id="hearAboutUs"
                formControlName="hearAboutUs"
                [class.error]="demoForm.get('hearAboutUs')?.invalid && demoForm.get('hearAboutUs')?.touched">
                <option value="">Select an option</option>
                <option *ngFor="let option of hearAboutOptions" [value]="option">{{ option }}</option>
              </select>
              <span class="error-message" *ngIf="getFieldError('hearAboutUs')">
                {{ getFieldError('hearAboutUs') }}
              </span>
            </div>

            <div class="form-group">
              <label for="comments">Anything specific you'd like to see? (Optional)</label>
              <textarea
                id="comments"
                formControlName="comments"
                rows="4"
                placeholder="Tell us about your specific needs, challenges, or questions..."></textarea>
            </div>

            <div class="privacy-notice">
              <i class="bi bi-shield-check"></i>
              <p>By submitting this form, you agree to our <a routerLink="/privacy-policy" target="_blank">Privacy Policy</a>. We'll never share your information with third parties.</p>
            </div>
          </div>

          <!-- Error Message -->
          <div class="submit-error" *ngIf="submitError">
            <i class="bi bi-exclamation-circle"></i>
            {{ submitError }}
          </div>

          <!-- Form Actions -->
          <div class="form-actions">
            <button
              type="button"
              class="btn-secondary"
              *ngIf="currentStep > 1"
              (click)="prevStep()">
              <i class="bi bi-arrow-left"></i>
              Back
            </button>

            <button
              type="button"
              class="btn-primary"
              *ngIf="currentStep < totalSteps"
              [disabled]="!isStepValid(currentStep)"
              (click)="nextStep()">
              Continue
              <i class="bi bi-arrow-right"></i>
            </button>

            <button
              type="submit"
              class="btn-primary btn-submit"
              *ngIf="currentStep === totalSteps"
              [disabled]="!demoForm.valid || isSubmitting">
              <span *ngIf="!isSubmitting">
                Request Demo
                <i class="bi bi-send"></i>
              </span>
              <span *ngIf="isSubmitting" class="loading">
                <i class="bi bi-arrow-repeat spinning"></i>
                Submitting...
              </span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
