<ng-container *ngIf="isMobile()" class="font-inter">
  <div class="welcome-screen" [class.show-login]="!showWelcomeScreen">
    <!-- Blue wave background -->
    <div class="welcome-top-section">
      <svg
        viewBox="0 0 390 520"
        preserveAspectRatio="xMidYMax slice"
        class="wave-svg"
        xmlns="http://www.w3.org/2000/svg"
      >
        <defs>
          <linearGradient id="waveGradient" x1="0%" y1="100%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="#90b9fc" />
            <stop offset="100%" stop-color="#95f2d7" />
          </linearGradient>
        </defs>

        <path
          d="M0 0 L390 0 L390 420 Q320 480 195 450 Q70 420 0 480 L0 0 Z"
          fill="url(#waveGradient)"
        ></path>
      </svg>

    </div>

    <!-- Bottom section with animated content -->
    <div class="welcome-bottom-section">
      <!-- Welcome content -->
      <div class="welcome-content" [class.hidden]="!showWelcomeScreen">
        <h1 class="welcome-title">Welcome</h1>
        <p class="welcome-description">Track attendance, share updates with parents, <br>and manage your daycare effortlessly.</p>
        <div class="wrapper float-end">
          <a class="link" (click)="onContinue()">
            <span class="color"></span>
            <span>Continue</span>
            <i class="fa-solid fa-arrow-right"></i>
          </a>
        </div>
      </div>

      <!-- Login form content -->
      <div class="login-content" [class.visible]="!showWelcomeScreen">
        <h1 class="signin-title">Sign in</h1>

        <form (ngSubmit)="onSubmit()" #loginForm="ngForm" class="login-form">
          <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
            {{ errorMessage }}
          </div>

          <div class="form-group-mobile">
            <label class="form-label-mobile">Email</label>
            <div class="input-wrapper">
              <i class="bi bi-envelope"></i>
              <input
                type="email"
                id="email"
                name="email"
                [ngModel]="credentials.email"
                (ngModelChange)="credentials.email = $event"
                (input)="onInputChange($event, 'email')"
                required
                email
                autocomplete="username"
                autocapitalize="off"
                autocorrect="off"
                spellcheck="false"
                placeholder="demo@email.com">
            </div>
          </div>

          <div class="form-group-mobile">
            <label class="form-label-mobile">Password</label>
            <div class="input-wrapper">
              <i class="bi bi-lock"></i>
              <input
                [type]="showPassword ? 'text' : 'password'"
                id="password"
                name="password"
                [ngModel]="credentials.password"
                (ngModelChange)="credentials.password = $event"
                (input)="onInputChange($event, 'password')"
                required
                autocomplete="current-password"
                autocapitalize="off"
                autocorrect="off"
                spellcheck="false"
                placeholder="enter your password">
              <i [class]="showPassword ? 'bi bi-eye toggle-pass' : 'bi bi-eye-slash toggle-pass'"
                 (click)="togglePasswordVisibility()"></i>
            </div>
          </div>

          <div class="form-options">
            <div class="remember-me">
              <input type="checkbox" id="remember">
              <label for="remember">Remember Me</label>
            </div>
            <a routerLink="/forgot-password" class="forgot-link">Forgot Password?</a>
          </div>

          <button
            type="submit"
            class="btn-login"
            [disabled]="!loginForm.valid || isLoading">
            <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2"></span>
            {{ isLoading ? 'Signing in...' : 'Login' }}
          </button>
        </form>

        <!-- <div class="signup-prompt">
          <span>Don't have an Account ?</span>
          <a routerLink="/register">Sign up</a>
        </div> -->
      </div>
    </div>
  </div>
</ng-container>

<ng-container *ngIf="false" class="font-inter">
  <div class="font-inter mobile-view-login">
  <div class="header-info">
    <div class="title-icons mb-3">
      <div class="page-back">
      </div>
      <div class="title-page"></div>
      <div class="page-setting">
      </div>
    </div>
    <div class="d-flex image-name row_direction">
      <div class="overflow-hidden">
        <div class="filter-black"></div>
        <h1 class="login-title"> Welcome back </h1>
        <p>Access to your account to stay connected</p>
      </div>
    </div>
  </div>
  <div class="main-information">
    <div class="body container-fluid">
      
      <div class="logo logo-login-mobile text-center mb-4">
        <img src="/assets/images/icon.png" class="img-fluid" alt="">
      </div>
      <h3 class="text-center mb-3 fw-bold">Miniminds</h3>

      <div class="form col-11 form-login_mobile mb-4">
        <div class="card">
          <div class="card-body p-4">

            <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
              {{ errorMessage }}
            </div>

            <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
              <!-- <div class="mb-3">
                <input 
                  type="email" 
                  class="form-control" 
                  id="email" 
                  name="email"
                  [(ngModel)]="credentials.email" 
                  required 
                  email
                  placeholder="Enter your email">
              </div> -->
              <div class="form-group">
                <div class="input-with-icon">
                    <i class="bi bi-envelope"></i>
                    <input
                    type="email"
                    id="email"
                    class="form-control"
                    name="email"
                    [(ngModel)]="credentials.email"
                    required
                    email
                    autocomplete="username"
                    placeholder="Enter your email">
                </div>
              </div>
              <div class="form-group">
                <div class="input-with-icon">
                    <i class="bi bi-lock"></i>
                    <input
                    [type]="showPassword ? 'text' : 'password'"
                    class="form-control"
                    id="password"
                    name="password"
                    [(ngModel)]="credentials.password"
                    required
                    autocomplete="current-password"
                    placeholder="Enter your password">
                </div>
              </div>
              <!-- <div class="mb-3">
                <input 
                  [type]="showPassword ? 'text' : 'password'" 
                  class="form-control" 
                  id="password" 
                  name="password"
                  [(ngModel)]="credentials.password" 
                  required
                  placeholder="Enter your password">
              </div> -->

              <div class="mb-3 form-check">
                <input type="checkbox" class="form-check-input" id="remember">
                <label class="form-check-label" for="remember">
                  Remember me
                </label>
              </div>

              <button 
                type="submit" 
                class="btn btn-primary w-100 py-2 login-btn"
                [disabled]="!loginForm.valid || isLoading">
                <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2"></span>
                {{ isLoading ? 'Signing in...' : 'Sign In' }}
              </button>
            </form>

            <!-- <div class="text-center mt-4">
              <p class="mb-0">Don't have an account? 
                <a routerLink="/register" class="text-primary">Sign up</a>
              </p>
            </div> -->
          </div>
        </div>
      </div>
    </div>
  </div>
    
  </div>
</ng-container>

<div *ngIf="!isMobile()" class="desktop-login-container">
  <div class="login-split-layout">
    <div class="left-section">
      <div class="welcome-content">
        <h1 class="welcome-title">Welcome Back!</h1>
        <p class="welcome-subtitle">Access your account to stay connected</p>
        
        <div class="logo-section">
          <div class="logo-circle">
            <img src="/assets/images/icon.png" alt="MiniMinds Logo">
          </div>
          <h2 class="brand-name">MiniMinds Daycare</h2>
        </div>
        
        <div class="decorative-icons">
          <i class="icon icon-star"></i>
          <i class="icon icon-cloud"></i>
          <i class="icon icon-leaf"></i>
          <i class="icon icon-sparkle"></i>
        </div>
      </div>
    </div>
    
    <div class="right-section">
      <div class="login-form-card">
        <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
          {{ errorMessage }}
        </div>
        
        <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
          <div class="form-group">
            <label class="form-label">Email Address</label>
            <div class="input-with-icon">
              <input
                type="email"
                class="form-input"
                name="email"
                [(ngModel)]="credentials.email"
                required
                email
                autocomplete="username"
                placeholder="Enter your email">
            </div>
          </div>

          <div class="form-group">
            <label class="form-label">Password</label>
            <div class="input-with-icon">
              <input
                [type]="showPassword ? 'text' : 'password'"
                class="form-input"
                name="password"
                [(ngModel)]="credentials.password"
                required
                autocomplete="current-password"
                placeholder="Enter your password">
              <i [class]="showPassword ? 'bi bi-eye toggle-password' : 'bi bi-eye-slash toggle-password'" (click)="togglePasswordVisibility()" style="cursor: pointer;"></i>
            </div>
          </div>

          <div class="form-check-custom">
            <input type="checkbox" id="remember">
            <label for="remember">Keep me logged in</label>
          </div>

          <button 
            type="submit" 
            class="btn-signin"
            [disabled]="!loginForm.valid || isLoading">
            <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2"></span>
            {{ isLoading ? 'Signing in...' : 'Sign In' }}
          </button>
        </form>

        <div class="forgot-password">
          <a routerLink="/forgot-password">Forgot Password?</a>
        </div>

        <!-- <div class="signup-link">
          <p>Don't have an account?</p>
          <a routerLink="/register">Sign Up Here</a>
        </div> -->
      </div>
    </div>
  </div>
</div>